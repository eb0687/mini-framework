"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[268],{6277:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"routing","title":"Routing","description":"This module provides a minimal client-side router for use in single-page applications (SPAs).","source":"@site/docs/routing.md","sourceDirName":".","slug":"/routing","permalink":"/mini-framework/docs/intro/docs/routing","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Creating elements","permalink":"/mini-framework/docs/intro/docs/creating-elements"},"next":{"title":"Reactivity","permalink":"/mini-framework/docs/intro/docs/signal"}}');var r=t(4848),o=t(8453);const s={sidebar_position:3},a="Routing",l={},d=[{value:"router()",id:"router",level:2},{value:"link(href, ...children)",id:"linkhref-children",level:2},{value:"<strong>Parameters</strong>",id:"parameters",level:3},{value:"Example usage",id:"example-usage",level:2}];function c(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"routing",children:"Routing"})}),"\n",(0,r.jsx)(n.p,{children:"This module provides a minimal client-side router for use in single-page applications (SPAs).\nIt allows defining route handlers, navigating programmatically, and creating link elements\nthat update both the URL and the app\u2019s state based on user actions, enabling smooth navigation\nwithout reloading the page."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"router",children:"router()"}),"\n",(0,r.jsx)(n.p,{children:"Initializes the router by checking the current path (window.location.pathname) and rendering the associated page into the app element."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'// index.js\nimport { router } from "../framework/router";\n\nrouter();\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["This must be called at the end of your ",(0,r.jsx)(n.code,{children:"index.js"})," to function correctly."]})}),"\n",(0,r.jsx)(n.p,{children:"For the router() to function at all it is a must to define the window.routes,\nbelow is an example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'window.routes = {\n  "/": homePage,\n  "/about": aboutPage,\n  "/other": otherPage,\n  "/404": pageNotFound,\n};\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"linkhref-children",children:"link(href, ...children)"}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:(0,r.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"href"})})," (",(0,r.jsx)(n.code,{children:"string"}),")",(0,r.jsx)(n.br,{}),"\n",'The route defined in the window.route\nExample: "/home", "/404"']}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"...children"})})," (",(0,r.jsx)(n.code,{children:"string | Node"}),")\nAny number of child elements to append to the created element."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Strings are converted to text nodes."}),"\n",(0,r.jsx)(n.li,{children:"Nodes are appended directly."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["A custom link element that, when clicked, calls navigate(path) instead of triggering a full page reload.\nFor styling link() is given a predefined class called ",(0,r.jsx)(n.code,{children:"custom-link"})]}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.p,{children:"Why not use a regular a tag?"}),(0,r.jsx)(n.p,{children:"The browser would reload the page and make a new request to the server.\nIn an SPA, you want to stay on the same page and just swap the content dynamically.\nBehind the scenes link calls on a custom function navigate() which\nhandles this for us."})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'import { link } from "../framework/router";\n\nconst aboutPage = link("/about", "About");\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"example-usage",children:"Example usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'// index.js\nimport { div, h1, li, p, ul } from "../../framework";\nimport { link, router } from "../../framework/router";\nimport "./styles.css";\n\nconst homePage = div(\n  { class: "page" },\n  h1({}, "Welcome to the home page"),\n  ul(\n    {},\n    li({ class: "list-item" }, link("/about", "About Page")),\n    li({ class: "list-item" }, link("/other", "Another Page")),\n  ),\n);\n\nconst aboutPage = div(\n  { class: "page" },\n  h1({}, "Welcome to the about page"),\n  ul(\n    {},\n    li({ class: "list-item" }, link("/", "Home")),\n    li({ class: "list-item" }, link("/other", p({}, "Some other page..."))),\n  ),\n);\n\nconst otherPage = div(\n  { class: "page" },\n  h1({}, "Welcome to yet another page"),\n  ul({}, li({ class: "list-item" }, link("/", "Home"))),\n);\n\nconst pageNotFound = div(\n  { class: "page" },\n  h1({}, "Page Not Found"),\n  ul({}, li({ class: "list-item" }, link("/", "Home"))),\n);\n\nwindow.routes = {\n  "/": homePage,\n  "/about": aboutPage,\n  "/other": otherPage,\n  "/404": pageNotFound,\n};\n\nrouter();\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure that the window.routes is defined or the app will not work"}),"\n",(0,r.jsx)(n.li,{children:"Ensure that a 404 route exists or else the app will not work"}),"\n"]})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);